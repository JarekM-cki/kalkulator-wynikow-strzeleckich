<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Wynik√≥w Strzeleckich</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #0c7cd5;
            --primary-light: #2196f3;
            --primary-dark: #0d47a1;
            --accent: #00bcd4;
            --text: #fff;
            --dark-text: #333;
            --background: #121212;
            --card-bg: #1e1e1e;
            --border-radius: 12px;
            --shadow: 0 4px 20px rgba(0, 123, 255, 0.3);
            --glow: 0 0 15px rgba(33, 150, 243, 0.7);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            padding-bottom: 80px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .tab-section {
            display: none;
        }

        .tab-section.active {
            display: block;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(33, 150, 243, 0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: var(--glow);
            transform: translateY(-5px);
        }

        .card-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .card-icon {
            font-size: 2rem;
            margin-right: 15px;
            color: var(--primary-light);
        }

        h2 {
            color: var(--primary-light);
            font-size: 1.8rem;
            font-weight: 600;
        }

        h3 {
            color: var(--accent);
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 500;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--primary-light);
        }

        .icon-label {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .icon-label i {
            color: var(--accent);
        }

        input, select {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 20px;
            border: none;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s;
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        input:focus, select:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-light);
            background-color: rgba(255, 255, 255, 0.15);
        }

        button {
            background: linear-gradient(to right, var(--primary-dark), var(--primary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-right: 10px;
            margin-bottom: 10px;
        }

        button:hover {
            background: linear-gradient(to right, var(--primary), var(--accent));
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
            transform: translateY(-2px);
        }

        button i {
            margin-right: 8px;
        }

        .button-group {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .result-box {
            background-color: rgba(0, 123, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            border-left: 4px solid var(--primary);
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .result-label {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-label i {
            color: var(--accent);
        }

        .result-value {
            font-weight: 700;
            color: var(--primary-light);
        }

        .collapsible {
            cursor: pointer;
            padding: 10px 15px;
            width: 100%;
            text-align: left;
            background-color: rgba(0, 123, 255, 0.1);
            border: none;
            border-radius: 6px;
            outline: none;
            font-size: 1rem;
            transition: 0.4s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .collapsible:hover {
            background-color: rgba(0, 123, 255, 0.2);
        }

        .collapsible:after {
            content: '+';
            color: var(--primary-light);
            font-weight: bold;
            float: right;
            margin-left: 5px;
        }

        .active:after {
            content: "-";
        }

        .content {
            padding: 0 18px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 0 0 6px 6px;
        }

        .content-padding {
            padding: 15px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-button {
            background-color: rgba(0, 123, 255, 0.1);
            border: 1px solid rgba(33, 150, 243, 0.2);
            border-radius: 6px;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab-button i {
            color: var(--accent);
        }

        .tab-button.active {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .specs-grid div:nth-child(odd) {
            font-weight: 600;
            color: var(--primary-light);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .specs-grid div:nth-child(odd) i {
            color: var(--accent);
        }

        .mobile-menu {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--card-bg);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }

        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text);
            text-decoration: none;
            font-size: 0.8rem;
            opacity: 0.7;
            transition: all 0.3s;
            cursor: pointer;
        }

        .menu-item i {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        .menu-item.active, .menu-item:hover {
            opacity: 1;
            color: var(--primary-light);
        }

        .ammo-pattern {
            display: flex;
            flex-wrap: wrap;
            margin-top: 10px;
            gap: 10px;
        }
        
        .ammo-round {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-weight: bold;
        }
        
        .regular-ammo {
            background-color: rgba(33, 150, 243, 0.3);
            border: 2px solid var(--primary-light);
        }
        
        .tracer-ammo {
            background-color: rgba(244, 67, 54, 0.3);
            border: 2px solid #f44336;
            color: #f44336;
        }

        @media (max-width: 768px) {
            h2 {
                font-size: 1.5rem;
            }

            .card {
                padding: 20px;
            }

            .button-group {
                flex-direction: column;
            }

            button {
                width: 100%;
                margin-right: 0;
            }

            .grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animation */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(33, 150, 243, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(33, 150, 243, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(33, 150, 243, 0);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Loader */
        .loader {
            border: 4px solid rgba(33, 150, 243, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--primary-light);
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-bullseye" style="color: #ff9800;"></i> Kalkulator Wynik√≥w Strzeleckich</h1>
        </header>

        <section id="calculator" class="tab-section active card">
            <div class="card-header">
                <i class="fas fa-calculator card-icon" style="color: #4caf50;"></i>
                <h2>Kalkulator Wynik√≥w</h2>
            </div>
            
            <div>
                <label class="icon-label" for="shooters"><i class="fas fa-users"></i> Liczba strzelajƒÖcych:</label>
                <input type="number" id="shooters" min="0" value="0">
                
                <label class="icon-label" for="very-good"><i class="fas fa-medal" style="color: gold;"></i> Bardzo dobrych:</label>
                <input type="number" id="very-good" min="0" value="0">
                
                <label class="icon-label" for="good"><i class="fas fa-thumbs-up" style="color: #4caf50;"></i> Dobrych:</label>
                <input type="number" id="good" min="0" value="0">
                
                <label class="icon-label" for="satisfactory"><i class="fas fa-check" style="color: #2196f3;"></i> Dostatecznych:</label>
                <input type="number" id="satisfactory" min="0" value="0">
                
                <label class="icon-label" for="unsatisfactory"><i class="fas fa-times" style="color: #f44336;"></i> Niedostatecznych:</label>
                <input type="number" id="unsatisfactory" min="0" value="0">
                
                <button id="calculate-btn" onclick="calculateResults()">
                    <i class="fas fa-calculator"></i>
                    Oblicz wyniki
                </button>
                
                <div id="results" class="result-box" style="display: none;">
                    <h3><i class="fas fa-chart-pie" style="color: #e91e63;"></i> Zestawienie wynik√≥w:</h3>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-users"></i> Strzela≈Ço:</span>
                        <span class="result-value" id="result-shooters">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-medal" style="color: gold;"></i> Bardzo dobrych:</span>
                        <span class="result-value" id="result-very-good">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-thumbs-up" style="color: #4caf50;"></i> Dobrych:</span>
                        <span class="result-value" id="result-good">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-check" style="color: #2196f3;"></i> Dostatecznych:</span>
                        <span class="result-value" id="result-satisfactory">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-times" style="color: #f44336;"></i> Niedostatecznych:</span>
                        <span class="result-value" id="result-unsatisfactory">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-percent" style="color: #9c27b0;"></i> Procent wykonania:</span>
                        <span class="result-value" id="result-percentage">0%</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-calculator" style="color: #ff5722;"></i> Ocena ≈õrednia arytmetyczna:</span>
                        <span class="result-value" id="result-average">0.00</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-award" style="color: #ffeb3b;"></i> Ocena og√≥lna:</span>
                        <span class="result-value" id="result-overall">Niedostateczna</span>
                    </div>

                    <button type="button" class="collapsible"><i class="fas fa-info-circle" style="margin-right: 10px;"></i> Poka≈º szczeg√≥≈Çy</button>
                    <div class="content">
                        <div class="content-padding" id="details-content">
                            <p>Aby wy≈õwietliƒá szczeg√≥≈Çowe obliczenia, kliknij przycisk "Oblicz wyniki".</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ammunition" class="tab-section card">
            <div class="card-header">
                <i class="fas fa-boxes card-icon" style="color: #ff9800;"></i>
                <h2>Zu≈ºycie Amunicji</h2>
            </div>
            
            <div>
                <label class="icon-label" for="ammo-shooters"><i class="fas fa-users"></i> Liczba strzelajƒÖcych:</label>
                <input type="number" id="ammo-shooters" min="0" value="0">
                
                <label class="icon-label" for="exercise-type"><i class="fas fa-list-ul" style="color: #9c27b0;"></i> Rodzaj strzelania:</label>
                <select id="exercise-type">
                    <option value="">Wybierz rodzaj strzelania</option>
                    <option value="cp">1. ƒÜWICZENIE PRZYGOTOWAWCZE</option>
                    <option value="ss">2. STRZELANIE SZKOLNE</option>
                    <option value="sb">3. STRZELANIE BOJOWE</option>
                    <option value="rgr">4. RZUCANIE GRANATAMI RƒòCZNYMI</option>
                    <option value="ss">5. STRZELANIE SYTUACYJNE</option>
                </select>
                
                <label class="icon-label" for="specific-exercise"><i class="fas fa-bullseye" style="color: #e91e63;"></i> Konkretne ƒáwiczenie:</label>
                <select id="specific-exercise" disabled>
                    <option value="">Najpierw wybierz rodzaj strzelania</option>
                </select>
                
                <div class="button-group">
                    <button id="calculate-ammo-btn" onclick="calculateAmmo(false)">
                        <i class="fas fa-calculator"></i>
                        Oblicz zu≈ºycie amunicji (bez smugowej)
                    </button>
                    
                    <button id="calculate-ammo-with-tracer-btn" onclick="calculateAmmo(true)" style="background: linear-gradient(to right, var(--primary-dark), #f44336);">
                        <i class="fas fa-fire"></i>
                        Oblicz zu≈ºycie amunicji (z smugowƒÖ)
                    </button>
                </div>
                
                <div id="ammo-results" class="result-box" style="display: none;">
                    <h3><i class="fas fa-boxes" style="color: #ff9800;"></i> Zu≈ºycie amunicji:</h3>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-users"></i> Liczba strzelajƒÖcych:</span>
                        <span class="result-value" id="ammo-result-shooters">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-clipboard-list" style="color: #4caf50;"></i> ƒÜwiczenie:</span>
                        <span class="result-value" id="ammo-result-exercise"></span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-user-shield" style="color: #2196f3;"></i> Amunicja na osobƒô:</span>
                        <span class="result-value" id="ammo-per-person">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-boxes" style="color: #ff9800;"></i> Ca≈Çkowite zu≈ºycie amunicji:</span>
                        <span class="result-value" id="ammo-total">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-box" style="color: #9e9e9e;"></i> Amunicja zwyk≈Ça:</span>
                        <span class="result-value" id="ammo-regular">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label"><i class="fas fa-fire" style="color: #f44336;"></i> Amunicja smugowa:</span>
                        <span class="result-value" id="ammo-tracer">0</span>
                    </div>
                    
                    <!-- Nowy element do wy≈õwietlania wzorca rozmieszczenia amunicji -->
                    <div class="result-item" id="tracer-pattern-container" style="display: none; flex-direction: column; align-items: flex-start;">
                        <div class="result-label" style="margin-bottom: 10px;"><i class="fas fa-list-ol" style="color: #9c27b0;"></i> Rozmieszczenie amunicji:</div>
                        <div id="ammo-pattern" class="ammo-pattern"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="conditions" class="tab-section card">
            <div class="card-header">
                <i class="fas fa-crosshairs card-icon" style="color: #f44336;"></i>
                <h2>Warunki Strzelania</h2>
            </div>
            
            <div>
                <label class="icon-label" for="shooting-category"><i class="fas fa-folder-open" style="color: #9c27b0;"></i> Kategoria strzelania:</label>
                <select id="shooting-category" onchange="updateExercises()">
                    <option value="">Wybierz kategoriƒô</option>
                    <option value="preparatory">1. ƒÜWICZENIE PRZYGOTOWAWCZE</option>
                    <option value="school">2. STRZELANIE SZKOLNE</option>
                    <option value="combat">3. STRZELANIE BOJOWE</option>
                    <option value="grenade">4. RZUCANIE GRANATAMI RƒòCZNYMI</option>
                    <option value="situational">5. STRZELANIE SYTUACYJNE</option>
                </select>
                
                <label class="icon-label" for="exercise-select"><i class="fas fa-tasks" style="color: #4caf50;"></i> ƒÜwiczenie:</label>
                <select id="exercise-select" onchange="showExerciseDetails()" disabled>
                    <option value="">Najpierw wybierz kategoriƒô</option>
                </select>
                
                <div id="exercise-details" class="result-box" style="display: none;">
                    <h3 id="exercise-title"><i class="fas fa-info-circle" style="color: #2196f3; margin-right: 10px;"></i> Szczeg√≥≈Çy ƒáwiczenia</h3>
                    <div id="exercise-content">
                        <p>Wybierz ƒáwiczenie, aby zobaczyƒá szczeg√≥≈Çy.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="specifications" class="tab-section card">
            <div class="card-header">
                <i class="fas fa-info-circle card-icon" style="color: #2196f3;"></i>
                <h2>Dane Taktyczno-Techniczne</h2>
            </div>
            
            <div class="tabs">
                <button class="tab-button active" onclick="openTab(event, 'beryl')"><i class="fas fa-gun"></i> BERYL</button>
                <button class="tab-button" onclick="openTab(event, 'ukm')"><i class="fas fa-gun"></i> UKM</button>
                <button class="tab-button" onclick="openTab(event, 'vis100')"><i class="fas fa-gun"></i> VIS 100</button>
                <button class="tab-button" onclick="openTab(event, 'grot')"><i class="fas fa-gun"></i> MSBS GROT</button>
            </div>
            
            <div id="beryl" class="tab-content active">
                <h3><i class="fas fa-gun" style="color: #4caf50; margin-right: 10px;"></i> Dane taktyczno-techniczne karabinka szturmowego wz. 96 Beryl</h3>
                <div class="specs-grid">
                    <div><i class="fas fa-bullseye"></i> Amunicja</div>
                    <div>5,56 x 45 mm NATO</div>
                    <div><i class="fas fa-tachometer-alt"></i> Prƒôdko≈õƒá wylotowa dla pocisku SS109</div>
                    <div>V0 = 920 m/s</div>
                    <div><i class="fas fa-bolt"></i> Energia wylotowa dla pocisku SS109</div>
                    <div>E0 = 1690 J</div>
                    <div><i class="fas fa-fire"></i> Rodzaj ognia</div>
                    <div>pojedynczy, seria 3-strza≈Çowa, ciƒÖg≈Çy</div>
                    <div><i class="fas fa-fast-forward"></i> Szybkostrzelno≈õƒá teoretyczna</div>
                    <div>700 strz./min.</div>
                    <div><i class="fas fa-crosshairs"></i> Dono≈õno≈õƒá skuteczna</div>
                    <div>600 m</div>
                    <div><i class="fas fa-eye"></i> Zakres nastaw celownika</div>
                    <div>100 - 1000 m</div>
                    <div><i class="fas fa-box"></i> Pojemno≈õƒá magazynka</div>
                    <div>30 naboi</div>
                    <div><i class="fas fa-cogs"></i> Zasada dzia≈Çania</div>
                    <div>odprowadzanie gaz√≥w przez boczny otw√≥r w lufie</div>
                    <div><i class="fas fa-circle-notch"></i> Liczba bruzd w lufie</div>
                    <div>6</div>
                    <div><i class="fas fa-sync"></i> Skok gwintu lufy</div>
                    <div>228 mm</div>
                    <div><i class="fas fa-ruler-horizontal"></i> D≈Çugo≈õƒá z kolbƒÖ roz≈Ço≈ºonƒÖ</div>
                    <div>980 mm</div>
                    <div><i class="fas fa-compress-arrows-alt"></i> D≈Çugo≈õƒá z kolbƒÖ z≈Ço≈ºonƒÖ</div>
                    <div>910 mm</div>
                    <div><i class="fas fa-ruler"></i> D≈Çugo≈õƒá lufy</div>
                    <div>457 mm</div>
                    <div><i class="fas fa-arrows-alt-h"></i> D≈Çugo≈õƒá linii celowniczej</div>
                    <div>372 mm</div>
                    <div><i class="fas fa-weight-hanging"></i> Karabin bez magazynka</div>
                    <div>ok. 3650 g</div>
                    <div><i class="fas fa-weight"></i> Magazynek 30-nabojowy pusty</div>
                    <div>ok. 185 g</div>
                    <div><i class="fas fa-balance-scale"></i> Magazynek 30-nabojowy za≈Çadowany</div>
                    <div>ok. 554 g</div>
                </div>
            </div>
            
            <div id="ukm" class="tab-content">
                <h3><i class="fas fa-gun" style="color: #ff9800; margin-right: 10px;"></i> Dane taktyczno-techniczne UKM</h3>
                <p>Dane techniczne zostanƒÖ dodane wkr√≥tce.</p>
            </div>
            
            <div id="vis100" class="tab-content">
                <h3><i class="fas fa-gun" style="color: #e91e63; margin-right: 10px;"></i> Dane taktyczno-techniczne VIS 100</h3>
                <div class="specs-grid">
                    <div><i class="fas fa-bullseye"></i> Kaliber</div>
                    <div>9 x 19 mm</div>
                    
                    <div><i class="fas fa-cogs"></i> Zasada dzia≈Çania</div>
                    <div>Kr√≥tki odrzut lufy ryglowanej przez przekoszenie lufy</div>
                    
                    <div><i class="fas fa-hand-pointer"></i> System spustu</div>
                    <div>Single Action / Double Action (z kurkiem zewnƒôtrznym)</div>
                    
                    <div><i class="fas fa-weight-hanging"></i> Si≈Ça spustu</div>
                    <div>SA/DA 25N/50N</div>
                    
                    <div><i class="fas fa-arrows-alt-h"></i> Droga spustu</div>
                    <div>ok. 14 mm</div>
                    
                    <div><i class="fas fa-box"></i> Pojemno≈õƒá magazynka</div>
                    <div>15/17 naboi</div>
                    
                    <div><i class="fas fa-tachometer-alt"></i> Prƒôdko≈õƒá wylotowa pocisku</div>
                    <div>V‚Å∞: ~360 m/s</div>
                    
                    <div><i class="fas fa-bolt"></i> Energia wylotowa pocisku</div>
                    <div>E‚Å∞: ~518 J</div>
                    
                    <div><i class="fas fa-exclamation-triangle"></i> Zasiƒôg zagro≈ºenia</div>
                    <div>ok. 2000 m</div>
                    
                    <div><i class="fas fa-crosshairs"></i> PrzyrzƒÖdy celownicze</div>
                    <div>Otwarte, szczerbinkowe, wyregulowane na 25 m, ≈õwiat≈Çowodowe</div>
                    
                    <div><i class="fas fa-bullseye"></i> Taktyczny zasiƒôg ra≈ºenia</div>
                    <div>ok. 150 m</div>
                    
                    <div><i class="fas fa-shield-alt"></i> Zabezpieczenie</div>
                    <div>Automatyczna, wewnƒôtrzna blokada iglicy, sterowana spustem. Zwalniacz kurka. Przerywacz</div>
                    
                    <div><i class="fas fa-cog"></i> Mechanizm spustowo-uderzeniowy</div>
                    <div>SA/DA (z kurkiem zewnƒôtrznym)</div>
                    
                    <div style="grid-column: 1 / -1; margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                        <h4 style="color: var(--primary-light);"><i class="fas fa-ruler-combined" style="margin-right: 8px;"></i> WYMIARY:</h4>
                    </div>
                    
                    <div><i class="fas fa-arrows-alt-v"></i> Wysoko≈õƒá</div>
                    <div>136 mm (bez magazynka)</div>
                    
                    <div><i class="fas fa-ruler-horizontal"></i> D≈Çugo≈õƒá</div>
                    <div>193 mm</div>
                    
                    <div><i class="fas fa-arrows-alt-h"></i> Szeroko≈õƒá</div>
                    <div>34 mm</div>
                    
                    <div><i class="fas fa-ruler"></i> D≈Çugo≈õƒá lufy</div>
                    <div>110 mm</div>
                    
                    <div><i class="fas fa-sync"></i> Skok gwintu lufy</div>
                    <div>250 mm</div>
                    
                    <div><i class="fas fa-arrows-alt-h"></i> D≈Çugo≈õƒá linii celowania</div>
                    <div>156 mm</div>
                    
                    <div style="grid-column: 1 / -1; margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                        <h4 style="color: var(--primary-light);"><i class="fas fa-weight-hanging" style="margin-right: 8px;"></i> MASA:</h4>
                    </div>
                    
                    <div><i class="fas fa-weight-hanging"></i> Masa pistoletu bez magazynka</div>
                    <div>695 g</div>
                    
                    <div><i class="fas fa-weight"></i> Masa magazynka pustego</div>
                    <div>90 g</div>
                </div>
            </div>
            
            <div id="grot" class="tab-content">
                <h3><i class="fas fa-gun" style="color: #4caf50; margin-right: 10px;"></i> Funkcjonalno≈õƒá i cechy karabin√≥w MSBS GROT</h3>
                <ul style="list-style-type: none; padding-left: 0;">
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> Ryflowana lufa o d≈Çugo≈õci 16 cali</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> Ergonomiczna konstrukcja z obustronnymi manipulatorami</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> Mo≈ºliwo≈õƒá ≈Çatwego ustawienia wyrzutnika ≈Çusek na lewƒÖ lub prawƒÖ stronƒô</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> Zmodyfikowany system gazowy z kr√≥tkim skokiem t≈Çoka</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> Regulator gazowy typu otwartego</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> Modu≈Çowe ≈Ço≈ºe w systemie M-LOK</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> G√≥rna szyna Picatinny</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> Sk≈Çadana, teleskopowa kolba</li>
                    <li><i class="fas fa-check" style="color: #4caf50; margin-right: 8px;"></i> T≈Çumik p≈Çomienia z przeciwnakrƒôtkƒÖ</li>
                </ul>
                
                <h3><i class="fas fa-clipboard-list" style="color: #2196f3; margin-right: 10px;"></i> Cechy produktu</h3>
                <div class="specs-grid">
                    <div><i class="fas fa-bullseye"></i> Kaliber</div>
                    <div>5.56x45mm / .223REM</div>
                    <div><i class="fas fa-ruler-horizontal"></i> D≈Çugo≈õƒá ca≈Çkowita</div>
                    <div>865 - 924 mm</div>
                    <div><i class="fas fa-compress-arrows-alt"></i> D≈Çugo≈õƒá ze z≈Ço≈ºonƒÖ kolbƒÖ</div>
                    <div>700 mm</div>
                    <div><i class="fas fa-arrows-alt-h"></i> Szeroko≈õƒá</div>
                    <div>39 mm (z rƒÖczkami napinacza 86 mm)</div>
                    <div><i class="fas fa-arrows-alt-v"></i> Wysoko≈õƒá</div>
                    <div>206 mm</div>
                    <div><i class="fas fa-ruler"></i> D≈Çugo≈õƒá lufy</div>
                    <div>406 mm (16 cali)</div>
                    <div><i class="fas fa-ruler-combined"></i> D≈Çugo≈õƒá ≈Ço≈ºa</div>
                    <div>230 mm</div>
                    <div><i class="fas fa-weight-hanging"></i> Waga</div>
                    <div>3700 g</div>
                    <div><i class="fas fa-box"></i> Pojemno≈õƒá magazynka</div>
                    <div>10 sztuk</div>
                    <div><i class="fas fa-circle-notch"></i> Typ lufy</div>
                    <div>Gwintowana 6-krotna, prawoskrƒôtny, 178mm</div>
                    <div><i class="fas fa-cogs"></i> System gazowy</div>
                    <div>T≈Çokowy</div>
                    <div><i class="fas fa-tools"></i> ≈Åo≈ºe</div>
                    <div>Modu≈Çowe, w systemie M-LOK</div>
                    <div><i class="fas fa-chair"></i> Kolba</div>
                    <div>Polimerowa, regulowana</div>
                </div>
            </div>
        </section>
    </div>

    <nav class="mobile-menu">
        <div class="menu-item active" onclick="switchTab('calculator', this)">
            <i class="fas fa-calculator" style="color: #4caf50;"></i>
            <span>Kalkulator</span>
        </div>
        <div class="menu-item" onclick="switchTab('ammunition', this)">
            <i class="fas fa-boxes" style="color: #ff9800;"></i>
            <span>Amunicja</span>
        </div>
        <div class="menu-item" onclick="switchTab('conditions', this)">
            <i class="fas fa-crosshairs" style="color: #f44336;"></i>
            <span>Warunki</span>
        </div>
        <div class="menu-item" onclick="switchTab('specifications', this)">
            <i class="fas fa-info-circle" style="color: #2196f3;"></i>
            <span>Dane tech.</span>
        </div>
    </nav>

    <script>
        // Definicje ƒáwicze≈Ñ
        const exercisesData = {
            preparatory: [
                {
                    id: "cp1",
                    title: "ƒÜP z karabinka do pe≈Çnienia s≈Çu≈ºby wartowniczej",
                    details: {
                        cele: "nr 1 - 2 x figura bojowa nr 40 (biegnƒÖcy) ukazuje i ukrywa siƒô na komendƒô kierownika strzelania; nr 2 - figura bojowa nr 23 (popiersie); nr 3 - figura bojowa nr 30 (klƒôczƒÖcy); Cele nr 2 i 3 ukazujƒÖ siƒô jednocze≈õnie na 25 sekund po 10 sekundach od ukrycia siƒô celu nr 1.",
                        odleglosc: "nr 1 - 150 m; nr 2 - 75 m; nr 3 - 100 m.",
                        naboje: "6 szt.",
                        czas: "ograniczony ukazywaniem siƒô cel√≥w.",
                        postawa: "nr 1 - stojƒÖca; nr 2 i 3 - klƒôczƒÖca za ukryciem.",
                        rodzaj_ognia: "ogie≈Ñ pojedynczy.",
                        ocena: "\"bardzo dobrze\" - trafiƒá dwa cele; \"dobrze\" - trafiƒá cel nr 2; \"dostatecznie\" - trafiƒá cel nr 3.",
                        warunki: "dzie≈Ñ, noc."
                    },
                    ammo: 6
                },
                {
                    id: "cp2",
                    title: "ƒÜP z karabinka Mini Beryl do pe≈Çnienia s≈Çu≈ºby wartowniczej",
                    details: {
                        cele: "nr 1 - 2 x figura bojowa nr 40 (biegnƒÖcy) ukazuje i ukrywa siƒô na komendƒô kierownika strzelania; nr 2 - figura bojowa nr 23 (popiersie); nr 3 - figura bojowa nr 30 (klƒôczƒÖcy). Cele nr 2 i 3 ukazujƒÖ siƒô jednocze≈õnie na 25 sekund po 10 sekundach od ukrycia siƒô celu nr 1.",
                        odleglosc: "nr 1 - 150 m; nr 2 - 50 m; nr 3 - 75 m.",
                        naboje: "6 szt. (w pistoletach, kt√≥re nie majƒÖ prze≈ÇƒÖcznika rodzaju ognia - 12 szt.).",
                        czas: "ograniczony ukazywaniem siƒô cel√≥w.",
                        postawa: "nr 1 - stojƒÖca; nr 2 i 3 - klƒôczƒÖca za ukryciem.",
                        rodzaj_ognia: "ogie≈Ñ pojedynczy (w pistoletach, kt√≥re nie majƒÖ prze≈ÇƒÖcznika rodzaju ognia - kr√≥tkimi seriami).",
                        ocena: "\"bardzo dobrze\" - trafiƒá dwa cele; \"dobrze\" - trafiƒá cel nr 2; \"dostatecznie\" - trafiƒá cel nr 3.",
                        warunki: "dzie≈Ñ, noc."
                    },
                    ammo: 6
                },
                {
                    id: "cp3",
                    title: "ƒÜP z pistoletu maszynowego do pe≈Çnienia s≈Çu≈ºby wartowniczej",
                    details: {
                        cele: "nr 1 - figura bojowa nr TS-10 ukazuje siƒô dwa razy; pierwsze ukazanie - na 20 sekund; drugie ukazanie na 10 sekund, bezpo≈õrednio po trafieniu lub ukryciu siƒô celu nr 2; nr 2 - figura bojowa TS-10, ukazuje siƒô na 10 sekund, po 5 sekundach od trafienia lub ukryciu siƒô celu nr 1 po jego pierwszym ukazaniu; nr 3 - figura bojowa nr TS-10, ukazuje siƒô na 10 sekund, cel ukazuje siƒô bezpo≈õrednio po trafieniu lub ukryciu siƒô celu nr 1 po jego drugim ukazaniu.",
                        odleglosc: "nr 1 i 2 - 40-50 m; nr 3 - 20-25 m.",
                        naboje: "5 szt.",
                        czas: "ograniczony ukazywaniem siƒô cel√≥w.",
                        postawa: "dowolna (wed≈Çug decyzji strzelajƒÖcego).",
                        rodzaj_ognia: "ogie≈Ñ pojedynczy.",
                        ocena: "\"bardzo dobrze\" - trafiƒá trzy cele; \"dobrze\" - trafiƒá dwa cele; \"dostatecznie\" - trafiƒá jeden cel.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 5
                }
            ],
            school: [
                {
                    id: "ss1",
                    title: "SSz Nr 1 Tor - strzelanie na celno≈õƒá i skupienie",
                    details: {
                        cele: "2 tarcze 23p na ekranie 1x1,5 m lub na 2 ekranach 0,75x0,75 m.",
                        odleglosc: "400, 600, 800m (300m sprawdzenie przystrzelenia).",
                        naboje: "40 szt. - 10 szt. na ka≈ºdƒÖ odleg≈Ço≈õƒá, 10 szt. na sprawdzenie przystrzelenia; Amunicja 12,7x99 o ulepszonym skupieniu.",
                        czas: "10 minut - sprawdzenie przystrzelenia broni - 300m. 30 minut - 10 minut na ka≈ºdƒÖ odleg≈Ço≈õƒá.",
                        postawa: "le≈ºƒÖca z podp√≥rkƒÖ, le≈ºƒÖca z dw√≥jnogiem.",
                        ocena: "\"bdb\" - uzyskaƒá wymagane skupienie i minimum 48 punkt√≥w na 400 m, \"db\" - uzyskaƒá wymagane skupienia i minimum 44 punkty, \"dst\" - uzyskaƒá wymagane skupienia.",
                        warunki: "dzie≈Ñ, wiatr do 6m/s."
                    },
                    ammo: 40
                },
                {
                    id: "ss2",
                    title: "SSz Nr 1 z karabinu wyborowego SWD - strzelanie na celno≈õƒá",
                    details: {
                        cele: "3 x obserwator (3 x figura bojowa nr 20), z kt√≥rych ka≈ºdy ukazuje siƒô raz na 20 sekund z przerwami 20-to sekundowymi.",
                        odleglosc: "200-300 m.",
                        naboje: "6 szt.",
                        czas: "ograniczony ukazywaniem siƒô cel√≥w.",
                        postawa: "dowolna ze zmianƒÖ SO.",
                        rodzaj_ognia: "pojedynczy.",
                        ocena: "\"bardzo dobrze\" - trafiƒá trzy cele; \"dobrze\" - trafiƒá dwa cele; \"dostatecznie\" - trafiƒá cel.",
                        warunki: "dzie≈Ñ, noc, w maskach."
                    },
                    ammo: 6
                },
                {
                    id: "ss3",
                    title: "SSz Nr 1 - strzelanie w postawie siedzƒÖcej z 40 mm granatnika MK-19",
                    details: {
                        cele: "Grupa piechoty: 4 x biegnƒÖcy (4 x figura bojowa nr 40) rozmieszczony w ≈õrodku pola prostokƒÖta o szeroko≈õci 10 m i g≈Çƒôboko≈õci 20 m.",
                        odleglosc: "400-450 m.",
                        naboje: "6 szt.",
                        czas: "nieograniczony.",
                        postawa: "siedzƒÖca.",
                        rodzaj_ognia: "pojedynczy.",
                        ocena: "\"bardzo dobrze\" - trafiƒá w pole cztery razy, \"dobrze\" - trafiƒá w pole 3 razy, \"dostatecznie\" - trafiƒá w pole.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 6
                },
                {
                    id: "ss4",
                    title: "SSz Nr 2 - strzelanie w postawie siedzƒÖcej z 40 mm granatnika MK-19",
                    details: {
                        cele: "Mo≈∫dzierz z obs≈ÇugƒÖ (figura bojowa nr 34)",
                        odleglosc: "600 m.",
                        naboje: "6 szt.",
                        czas: "nieograniczony.",
                        postawa: "siedzƒÖca.",
                        rodzaj_ognia: "wg decyzji strzelajƒÖcego.",
                        ocena: "\"bardzo dobrze\" - trafiƒá cel trzy razy, \"dobrze\" - trafiƒá cel dwa razy, \"dostatecznie\" - trafiƒá cel raz.",
                        warunki: "dzie≈Ñ, noc."
                    },
                    ammo: 6
                },
                {
                    id: "ss5",
                    title: "SSz Nr 1 - ra≈ºenie celu nieruchomego ogniem p√≥≈Çpo≈õrednim z przygotowanego stanowiska ogniowego 60 mm mo≈∫dzierza LM - 60 D",
                    details: {
                        cele: "piechota (3 figury bojowe nr 30, 40 lub 40a) lub karabin maszynowy (figura bojowa nr 27) lub granatnik ciƒô≈ºki (figura bojowa nr 36) lub pancerzownica (figura bojowa nr 31).",
                        odleglosc: "od minimalnej do maksymalnej",
                        naboje: "pocisk od≈Çamkowy; zu≈ºycie amunicji na wstrzeliwanie - 5 szt.",
                        czas: "bdb: 4', db: 5', dst: 6'",
                        ocena: "Zadanie og√≥lnej ocenia siƒô na podstawie ≈õredniej za czas i dok≈Çadno≈õƒá ognia skutecznego."
                    },
                    ammo: 5
                }
            ],
            combat: [
                {
                    id: "sb1",
                    title: "SB dla karabin√≥w wyborowych: SWD oraz TRG21, TRG 22 z celownikami PM1 Nr B1",
                    details: {
                        cele: "nr 1 - obserwator (figura bojowa nr 20) ukazuje siƒô na 50 sekund; nr 2 - g≈Çowa (figura bojowa nr 22) ukazuje siƒô na 60 sekund, cel ukazuje siƒô po 20 sekundach od trafienia lub ukrycia siƒô celu nr 1; nr 3 - popiersie (figura bojowa nr 23) ukazuje siƒô na 1 minutƒô, cel ukazuje siƒô po 10 sekundach od trafienia lub ukrycia siƒô celu nr 2; nr 4 - biegnƒÖcy (figura bojowa nr 40a), porusza siƒô ruchem poprzecznym lub sko≈õnym na odcinku 2 x 50 m. Cel rozpoczyna ruch po 10 sekundach od trafienia lub ukrycia siƒô celu nr 3.",
                        odleglosc: "nr 1 - 300-400 m; nr 2 - 300-400 m; nr 3 - 500 m; nr 4 - 400-500 m.",
                        naboje: "7 szt.",
                        czas: "ograniczony ukazywaniem siƒô cel√≥w.",
                        postawa: "le≈ºƒÖca z wykorzystaniem podp√≥rki.",
                        ocena: "\"bardzo dobrze\" - trafiƒá wszystkie cele; \"dobrze\" - trafiƒá trzy cele; \"dostatecznie\" - trafiƒá dwa cele, w tym cel nr 1.",
                        warunki: "dzie≈Ñ, noc."
                    },
                    ammo: 7
                },
                {
                    id: "sb2",
                    title: "SB nr B1 - strzelanie do wielu cel√≥w w postawie siedzƒÖcej z 40 mm granatnika MK-19",
                    details: {
                        cele: "nr 1 - transporter opancerzony rozpoznawczy (figura bojowa nr 49) rozmieszczony w kwadracie o boku 3 m, ukazujƒÖcy siƒô na 30 sekund; nr 2 - mo≈∫dzierz z obs≈ÇugƒÖ (figura bojowa 34) rozmieszczony w kole o promieniu 5 m, ukazujƒÖcy siƒô na 20 sekund. Cel ukazuje siƒô po 20 sekundach od trafienia lub ukrycia siƒô celu nr 1; nr 3 - granatnik ciƒô≈ºki (figura bojowa nr 36) rozmieszczony w kole o promieniu 5 m, ukazujƒÖca siƒô na 20 sekund. Cel ukazuje siƒô po 20 sekundach od trafienia lub ukrycia siƒô celu nr 2.",
                        odleglosc: "nr 1 - 700-800 m; nr 2 - 500-600 m; nr 3 - 400-500 m.",
                        naboje: "10 szt.",
                        czas: "ograniczony czasem ukazywania siƒô cel√≥w.",
                        postawa: "siedzƒÖca.",
                        rodzaj_ognia: "wed≈Çug decyzji strzelajƒÖcego.",
                        ocena: "\"bardzo dobrze\" - trafiƒá trzy cele; \"dobrze\" - trafiƒá cel nr 1 i 2 lub nr 3; \"dostatecznie\" - trafiƒá cel nr 1.",
                        warunki: "dzie≈Ñ, noc."
                    },
                    ammo: 10
                },
                {
                    id: "sb3",
                    title: "SB Nr 1 - ra≈ºenie celu nieruchomego ogniem p√≥≈Çpo≈õrednim z nieprzygotowanego stanowiska ogniowego z 60 mm mo≈∫dzierza LM - 60 D",
                    details: {
                        cele: "piechota (3 figury bojowe nr 30, 40 lub 40a) lub karabin maszynowy (figura bojowa nr 27) lub granatnik ciƒô≈ºki (figura bojowa nr 36) lub pancerzownica (figura bojowa nr 31).",
                        odleglosc: "od minimalnej do maksymalnej",
                        naboje: "pocisk od≈Çamkowy; zu≈ºycie amunicji na wstrzeliwanie - 5 szt.",
                        czas: "bdb: 10', db: 11', dst: 12'",
                        ocena: "Zadanie og√≥lnej ocenia siƒô na podstawie ≈õredniej za czas i dok≈Çadno≈õƒá ognia skutecznego."
                    },
                    ammo: 5
                }
            ],
            grenade: [
                {
                    id: "rgr1",
                    title: "RGR na odleg≈Ço≈õƒá w r√≥≈ºnych postawach",
                    details: {
                        cele: "biegnƒÖcy (figura bojowa nr 40) ustawiony na kierunku rzutu.",
                        odleglosc: "40 m.",
                        granaty: "3 szkolne (zaczepne lub obronne).",
                        postawa: "stojƒÖca w okopie, klƒôczƒÖca i le≈ºƒÖca.",
                        czas: "nieograniczony.",
                        ocena: "stojƒÖca w okopie - bdb: 30m, db: 25m, dst: 20m; klƒôczƒÖca - bdb: 25m, db: 20m, dst: 15m; le≈ºƒÖca - bdb: 20m, db: 15m, dst: 10m;",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 3
                },
                {
                    id: "rgr2",
                    title: "RGR w marszu",
                    details: {
                        cele: "grupa piechoty - 3 x biegnƒÖcy (3 x figura bojowa nr 40) - ustawiony w okopie (widoczne popiersia) wzd≈Çu≈º frontu w polu o szeroko≈õci 10 m i g≈Çƒôboko≈õci 5 m.",
                        odleglosc: "40 m (rzut granatem od 35 m do 25 m).",
                        granaty: "1 szkolny/ƒáwiczebny.",
                        postawa: "w marszu bez zatrzymania siƒô.",
                        czas: "30 s liczony od komendy \"Do ataku - Naprz√≥d\" do komendy \"ST√ìJ\".",
                        ocena: "\"wykona≈Ç\" - trafi≈Ç w pole.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 1
                },
                {
                    id: "rgr3",
                    title: "RGR z wozu bojowego",
                    details: {
                        cele: "grupa piechoty - 3 x biegnƒÖcy (3 x figura bojowa nr 40) - ustawiony na otwartej przestrzeni w kole o promieniu 2 m. Ponadto, wok√≥≈Ç celu wyznacza siƒô dodatkowo ko≈Ça o promieniu 4 i 6 m.",
                        odleglosc: "20 m.",
                        granaty: "1 szkolny/ƒáwiczebny.",
                        postawa: "z wozu bojowego (samochodu).",
                        czas: "10 s liczony od komendy \"Granatem - ognia\" do zaryglowania w≈Çazu (ukrycia siƒô za burtƒÖ samochodu).",
                        ocena: "\"bardzo dobrze\" - trafiƒá w pole o promieniu 2 m; \"dobrze\" - trafiƒá w pole o promieniu 4 m; \"dostatecznie\" - trafiƒá w pole o promieniu 6 m.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 1
                },
                {
                    id: "rgr4",
                    title: "Rzut granatem bojowym",
                    details: {
                        cele: "grupa piechoty - 3 x biegnƒÖcy (3 x figura bojowe nr 40) - rozstawiony wzd≈Çu≈º frontu na odcinku 5 m, w ≈õrodkowej czƒô≈õci pola d≈Çugo≈õci 10 m i g≈Çƒôboko≈õci 5 m.",
                        odleglosc: "20 m.",
                        granaty: "1 bojowy (zaczepny lub obronny).",
                        postawa: "stojƒÖca w okopie.",
                        czas: "nieograniczony.",
                        ocena: "\"wykona≈Ç\" - gdy wybuch granatu nastƒÖpi w polu celu.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 1
                }
            ],
            situational: [
                {
                    id: "ss1",
                    title: "SS S1 - strzelanie dynamiczne z pistoletu wojskowego",
                    details: {
                        cele: "popiersie (figura bojowa 23), cel sta≈Çy.",
                        odleglosc: "15 m.",
                        naboje: "3 szt.",
                        czas: "3 sekundy (dobycie broni i oddanie strza≈Ç√≥w) dla broni bezkurkowej i z kaburƒÖ otwartƒÖ lub 5 sekund (dobycie broni, odbezpieczenie, odciƒÖgniƒôcie kurka i oddanie strza≈Çu) dla pozosta≈Çych typ√≥w pistolet√≥w.",
                        postawa: "stojƒÖca z wolnej rƒôki lub oburƒÖcz.",
                        rodzaj_ognia: "pojedynczy.",
                        ocena: "\"bardzo dobrze\" - trafiƒá cel 3 razy; \"dobrze\" - trafiƒá cel 2 razy; \"dostatecznie\" - trafiƒá cel.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 3
                },
                {
                    id: "ss2",
                    title: "SS S2 - strzelanie z pistoletu wojskowego do cel√≥w ukazujƒÖcych siƒô",
                    details: {
                        cele: "3 x biegnƒÖcy (3 x figura bojowa nr 40) lub 3 x tarcze sportowe TS-10 rozstawione na odcinku o szeroko≈õci do 15 m, ukazujƒÖce siƒô przemiennie w losowej kolejno≈õci pojedynczo dla pistolet√≥w bezkurkowych na 10 sekund (dla pozosta≈Çych pistolet√≥w na 13 sekund) z przerwƒÖ 3 sekundy.",
                        odleglosc: "25 m.",
                        naboje: "6 szt.",
                        czas: "ograniczony czasem ukazywania siƒô cel√≥w.",
                        postawa: "stojƒÖca z wolnej rƒôki lub oburƒÖcz.",
                        rodzaj_ognia: "pojedynczy.",
                        ocena: "\"bardzo dobrze\" - trafiƒá 3 cele; \"dobrze\" - trafiƒá 2 cele; \"dostatecznie\" - trafiƒá cel.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 6
                },
                {
                    id: "ss3",
                    title: "SS S3 - strzelanie dynamiczne z pistoletu maszynowego",
                    details: {
                        cele: "klƒôczƒÖcy (figura bojowa nr 30), cel sta≈Çy.",
                        odleglosc: "15 m.",
                        naboje: "3 szt.",
                        czas: "5 sekund.",
                        postawa: "stojƒÖca oburƒÖcz.",
                        rodzaj_ognia: "pojedynczy.",
                        ocena: "\"bardzo dobrze\" - trafiƒá cel 3 razy; \"dobrze\" - trafiƒá cel 2 razy; \"dostatecznie\" - trafiƒá cel.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 3
                },
                {
                    id: "ss4",
                    title: "SS S4 - strzelanie z pistoletu maszynowego dynamiczne z dobiegiem",
                    details: {
                        cele: "biegnƒÖcy (figura bojowa nr 40) lub tarcza sportowa TS-10, cel sta≈Çy.",
                        odleglosc: "25 m.",
                        naboje: "8 szt. (po 4 szt. w magazynku).",
                        czas: "1 minuta.",
                        postawa: "stojƒÖca i klƒôczƒÖca (pistolet trzymany oburƒÖcz).",
                        rodzaj_ognia: "wed≈Çug decyzji strzelajƒÖcego.",
                        ocena: "\"bardzo dobrze\" - trafiƒá cel 6 razy; \"dobrze\" - trafiƒá cel 4 razy; \"dostatecznie\" - trafiƒá cel 3 razy.",
                        warunki: "dzie≈Ñ."
                    },
                    ammo: 8
                },
                {
                    id: "ss5",
                    title: "SS S5 - strzelanie na kr√≥tkich odleg≈Ço≈õciach z karabinka / pistoletu maszynowego",
                    details: {
                        cele: "nr 1 - popiersie (figura bojowa nr 23), ukazujƒÖca siƒô na 15 sekund; nr 2 - klƒôczƒÖcy (figura bojowa nr 30), ukazujƒÖcy siƒô na 15 sekund, cel ukazuje siƒô po 5 sekundach od trafienia lub ukrycia siƒô celu nr 1; nr 3 - popiersie z granatem (figura bojowa 23g), ukazujƒÖca siƒô na 15 sekund, cel ukazuje siƒô po 15 sekundach od trafienia lub ukrycia siƒô celu nr 2; nr 4 - pancerzownica (figura bojowa nr 31), ukazujƒÖca siƒô na 15 sekund, cel ukazuje siƒô po 5 sekundach od trafienia lub ukrycia siƒô celu nr 3.",
                        odleglosc: "nr 1 i 3 - 20-40 m; nr 2 i 4 - 40-60 m.",
                        naboje: "20 szt.",
                        czas: "ograniczony czasem ukazywania siƒô cel√≥w.",
                        postawa: "nr 1 i 2 - klƒôczƒÖca; nr 3 i 4 - le≈ºƒÖca.",
                        rodzaj_ognia: "wed≈Çug decyzji strzelajƒÖcego.",
                        ocena: "\"bardzo dobrze\" - trafiƒá wszystkie cele; \"dobrze\" - trafiƒá dwa cele; \"dostatecznie\" - trafiƒá cel.",
                        warunki: "dzie≈Ñ, noc."
                    },
                    ammo: 20
                }
            ]
        };

        // Definicje dla kalkulatora amunicji
        const exercisesAmmo = {
            cp: [
                { id: "cp1", title: "ƒÜP z karabinka do pe≈Çnienia s≈Çu≈ºby wartowniczej", ammo: 6 },
                { id: "cp2", title: "ƒÜP z karabinka Mini Beryl do pe≈Çnienia s≈Çu≈ºby wartowniczej", ammo: 6 },
                { id: "cp3", title: "ƒÜP z pistoletu maszynowego do pe≈Çnienia s≈Çu≈ºby wartowniczej", ammo: 5 }
            ],
            ss: [
                { id: "ss1", title: "SSz Nr 1 Tor - strzelanie na celno≈õƒá i skupienie", ammo: 40 },
                { id: "ss2", title: "SSz Nr 1 z karabinu wyborowego SWD - strzelanie na celno≈õƒá", ammo: 6 },
                { id: "ss3", title: "SSz Nr 1 - strzelanie w postawie siedzƒÖcej z 40 mm granatnika MK-19", ammo: 6 },
                { id: "ss4", title: "SSz Nr 2 - strzelanie w postawie siedzƒÖcej z 40 mm granatnika MK-19", ammo: 6 },
                { id: "ss5", title: "SSz Nr 1 - ra≈ºenie celu nieruchomego ogniem p√≥≈Çpo≈õrednim z przygotowanego stanowiska ogniowego 60 mm mo≈∫dzierza LM - 60 D", ammo: 5 },
                { id: "ss1", title: "SS S1 - strzelanie dynamiczne z pistoletu wojskowego", ammo: 3 },
                { id: "ss2", title: "SS S2 - strzelanie z pistoletu wojskowego do cel√≥w ukazujƒÖcych siƒô", ammo: 6 },
                { id: "ss3", title: "SS S3 - strzelanie dynamiczne z pistoletu maszynowego", ammo: 3 },
                { id: "ss4", title: "SS S4 - strzelanie z pistoletu maszynowego dynamiczne z dobiegiem", ammo: 8 },
                { id: "ss5", title: "SS S5 - strzelanie na kr√≥tkich odleg≈Ço≈õciach z karabinka / pistoletu maszynowego", ammo: 20 }
            ],
            sb: [
                { id: "sb1", title: "SB dla karabin√≥w wyborowych: SWD oraz TRG21", ammo: 7 },
                { id: "sb2", title: "SB nr B1 - strzelanie do wielu cel√≥w w postawie siedzƒÖcej z 40 mm granatnika MK-19", ammo: 10 },
                { id: "sb3", title: "SB Nr 1 - ra≈ºenie celu nieruchomego ogniem p√≥≈Çpo≈õrednim z nieprzygotowanego stanowiska ogniowego z 60 mm mo≈∫dzierza LM - 60 D", ammo: 5 }
            ],
            rgr: [
                { id: "rgr1", title: "RGR na odleg≈Ço≈õƒá w r√≥≈ºnych postawach", ammo: 3 },
                { id: "rgr2", title: "RGR w marszu", ammo: 1 },
                { id: "rgr3", title: "RGR z wozu bojowego", ammo: 1 },
                { id: "rgr4", title: "Rzut granatem bojowym", ammo: 1 }
            ]
        };

        // Funkcja prze≈ÇƒÖczania zak≈Çadek
        function switchTab(tabId, menuItem) {
            // Ukrycie wszystkich sekcji
            const sections = document.getElementsByClassName('tab-section');
            for (let i = 0; i < sections.length; i++) {
                sections[i].classList.remove('active');
            }
            
            // Pokazanie wybranej sekcji
            document.getElementById(tabId).classList.add('active');
            
            // Aktualizacja menu
            const menuItems = document.getElementsByClassName('menu-item');
            for (let i = 0; i < menuItems.length; i++) {
                menuItems[i].classList.remove('active');
            }
            
            // Dodanie aktywnej klasy do klikniƒôtego elementu
            menuItem.classList.add('active');
        }

        // Funkcja do obliczenia wynik√≥w
        function calculateResults() {
            const shooters = parseInt(document.getElementById('shooters').value) || 0;
            const veryGood = parseInt(document.getElementById('very-good').value) || 0;
            const good = parseInt(document.getElementById('good').value) || 0;
            const satisfactory = parseInt(document.getElementById('satisfactory').value) || 0;
            const unsatisfactory = parseInt(document.getElementById('unsatisfactory').value) || 0;
            
            // Sprawdzenie poprawno≈õci danych
            const totalResults = veryGood + good + satisfactory + unsatisfactory;
            if (totalResults > shooters) {
                alert("Liczba wynik√≥w nie mo≈ºe przekraczaƒá liczby strzelajƒÖcych!");
                return;
            }
            
            // Obliczenie procentu wykonania
            const successCount = veryGood + good + satisfactory;
            const percentage = shooters > 0 ? (successCount / shooters * 100).toFixed(2) : 0;
            
            // Obliczenie ≈õredniej arytmetycznej
            // Bardzo dobry (5), dobry (4), dostateczny (3), niedostateczny (2)
            const totalScore = veryGood * 5 + good * 4 + satisfactory * 3 + unsatisfactory * 2;
            const average = totalResults > 0 ? (totalScore / totalResults).toFixed(2) : 0;
            
            // Okre≈õlenie oceny og√≥lnej
            let overallRating = "Niedostateczna";
            if (average >= 4.51) {
                overallRating = "Bardzo dobra";
            } else if (average >= 3.51) {
                overallRating = "Dobra";
            } else if (average >= 2.51) {
                overallRating = "Dostateczna";
            }
            
            // Wy≈õwietlenie wynik√≥w
            document.getElementById('result-shooters').textContent = shooters;
            document.getElementById('result-very-good').textContent = veryGood;
            document.getElementById('result-good').textContent = good;
            document.getElementById('result-satisfactory').textContent = satisfactory;
            document.getElementById('result-unsatisfactory').textContent = unsatisfactory;
            document.getElementById('result-percentage').textContent = percentage + "%";
            document.getElementById('result-average').textContent = average;
            document.getElementById('result-overall').textContent = overallRating;
            
            // Przygotowanie szczeg√≥≈Çowych oblicze≈Ñ
            const details = `
                <h4>Szczeg√≥≈Çowe obliczenia:</h4>
                <p><strong>Procent wykonania:</strong> (${veryGood} + ${good} + ${satisfactory}) / ${shooters} √ó 100% = ${percentage}%</p>
                <p><strong>≈örednia arytmetyczna:</strong> (${veryGood} √ó 5 + ${good} √ó 4 + ${satisfactory} √ó 3 + ${unsatisfactory} √ó 2) / ${totalResults} = ${average}</p>
                <p><strong>Ocena og√≥lna:</strong> 
                    ${average >= 4.51 ? "≈õrednia ‚â• 4.51 ‚Üí Bardzo dobra" : 
                      average >= 3.51 ? "3.51 ‚â§ ≈õrednia < 4.51 ‚Üí Dobra" : 
                      average >= 2.51 ? "2.51 ‚â§ ≈õrednia < 3.51 ‚Üí Dostateczna" : 
                      "≈õrednia < 2.51 ‚Üí Niedostateczna"}
                </p>
            `;
            
            document.getElementById('details-content').innerHTML = details;
            document.getElementById('results').style.display = 'block';
        }

        // Funkcja do obliczenia zu≈ºycia amunicji
        function calculateAmmo(useTracer = false) {
            const shooters = parseInt(document.getElementById('ammo-shooters').value) || 0;
            const exerciseType = document.getElementById('exercise-type').value;
            const specificExercise = document.getElementById('specific-exercise').value;
            
            if (!exerciseType || !specificExercise || shooters <= 0) {
                alert("Wype≈Çnij wszystkie pola!");
                return;
            }
            
            // Znalezienie konkretnego ƒáwiczenia
            const exerciseList = exercisesAmmo[exerciseType];
            const exercise = exerciseList.find(ex => ex.id === specificExercise);
            
            if (!exercise) {
                alert("Nie znaleziono wybranego ƒáwiczenia!");
                return;
            }
            
            const ammoPerPerson = exercise.ammo;
            const totalAmmo = ammoPerPerson * shooters;
            
            // Obliczenie amunicji zwyk≈Çej i smugowej
            let regularAmmo, tracerAmmo;
            
            if (useTracer) {
                // Co trzeci nab√≥j jest smugowy (stosunek 1:3)
                tracerAmmo = Math.floor(totalAmmo / 3);
                regularAmmo = totalAmmo - tracerAmmo;
            } else {
                // Bez amunicji smugowej
                regularAmmo = totalAmmo;
                tracerAmmo = 0;
            }
            
            // Wy≈õwietlenie wynik√≥w
            document.getElementById('ammo-result-shooters').textContent = shooters;
            document.getElementById('ammo-result-exercise').textContent = exercise.title;
            document.getElementById('ammo-per-person').textContent = ammoPerPerson;
            document.getElementById('ammo-total').textContent = totalAmmo;
            document.getElementById('ammo-regular').textContent = regularAmmo;
            document.getElementById('ammo-tracer').textContent = tracerAmmo;
            
            // Wy≈õwietlanie wzorca rozmieszczenia amunicji
            const patternContainer = document.getElementById('tracer-pattern-container');
            const patternDiv = document.getElementById('ammo-pattern');
            
            if (useTracer && tracerAmmo > 0) {
                // Czyszczenie istniejƒÖcego wzorca
                patternDiv.innerHTML = '';
                
                // Tworzenie wizualizacji wzorca (maksymalnie 18 naboi dla czytelno≈õci)
                const maxDisplay = Math.min(ammoPerPerson, 18);
                for (let i = 1; i <= maxDisplay; i++) {
                    const ammoElement = document.createElement('div');
                    ammoElement.className = 'ammo-round';
                    
                    if (i % 3 === 0) {
                        // Smugowy (co trzeci)
                        ammoElement.classList.add('tracer-ammo');
                        ammoElement.innerHTML = i + '<br>S';
                    } else {
                        // Zwyk≈Çy
                        ammoElement.classList.add('regular-ammo');
                        ammoElement.innerHTML = i + '<br>Z';
                    }
                    
                    patternDiv.appendChild(ammoElement);
                }
                
                // Pokazanie wzorca
                patternContainer.style.display = 'flex';
            } else {
                // Ukrycie wzorca je≈õli nie u≈ºywamy amunicji smugowej
                patternContainer.style.display = 'none';
            }
            
            document.getElementById('ammo-results').style.display = 'block';
        }

        // Aktualizacja listy ƒáwicze≈Ñ po wyborze kategorii
        function updateExercises() {
            const category = document.getElementById('shooting-category').value;
            const exerciseSelect = document.getElementById('exercise-select');
            
            // Wyczyszczenie listy
            exerciseSelect.innerHTML = '';
            exerciseSelect.disabled = true;
            
            if (!category) {
                exerciseSelect.innerHTML = '<option value="">Najpierw wybierz kategoriƒô</option>';
                return;
            }
            
            // Dodanie opcji "Wybierz ƒáwiczenie"
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'Wybierz ƒáwiczenie';
            exerciseSelect.appendChild(defaultOption);
            
            // Dodanie ƒáwicze≈Ñ z wybranej kategorii
            const exercises = exercisesData[category];
            if (exercises && exercises.length > 0) {
                exercises.forEach(exercise => {
                    const option = document.createElement('option');
                    option.value = exercise.id;
                    option.textContent = exercise.title;
                    exerciseSelect.appendChild(option);
                });
                
                exerciseSelect.disabled = false;
            } else {
                exerciseSelect.innerHTML = '<option value="">Brak ƒáwicze≈Ñ w tej kategorii</option>';
            }
            
            // Ukrycie szczeg√≥≈Ç√≥w ƒáwiczenia
            document.getElementById('exercise-details').style.display = 'none';
        }

        // Wy≈õwietlenie szczeg√≥≈Ç√≥w ƒáwiczenia
        function showExerciseDetails() {
            const category = document.getElementById('shooting-category').value;
            const exerciseId = document.getElementById('exercise-select').value;
            
            if (!category || !exerciseId) {
                document.getElementById('exercise-details').style.display = 'none';
                return;
            }
            
            // Znalezienie ƒáwiczenia
            const exercises = exercisesData[category];
            const exercise = exercises.find(ex => ex.id === exerciseId);
            
            if (!exercise) {
                document.getElementById('exercise-details').style.display = 'none';
                return;
            }
            
            // Przygotowanie zawarto≈õci
            document.getElementById('exercise-title').innerHTML = '<i class="fas fa-info-circle" style="color: #2196f3; margin-right: 10px;"></i>' + exercise.title;
            
            let content = '';
            const details = exercise.details;
            
            // Dodanie wszystkich dostƒôpnych szczeg√≥≈Ç√≥w z ikonami
            if (details.cele) content += `<div class="result-item"><span class="result-label"><i class="fas fa-bullseye" style="color: #f44336;"></i> Cele:</span><span>${details.cele}</span></div>`;
            if (details.odleglosc) content += `<div class="result-item"><span class="result-label"><i class="fas fa-ruler-horizontal" style="color: #4caf50;"></i> Odleg≈Ço≈õƒá:</span><span>${details.odleglosc}</span></div>`;
            if (details.naboje) content += `<div class="result-item"><span class="result-label"><i class="fas fa-boxes" style="color: #ff9800;"></i> Liczba naboj√≥w:</span><span>${details.naboje}</span></div>`;
            if (details.granaty) content += `<div class="result-item"><span class="result-label"><i class="fas fa-bomb" style="color: #9c27b0;"></i> Liczba granat√≥w:</span><span>${details.granaty}</span></div>`;
            if (details.czas) content += `<div class="result-item"><span class="result-label"><i class="fas fa-clock" style="color: #2196f3;"></i> Czas:</span><span>${details.czas}</span></div>`;
            if (details.postawa) content += `<div class="result-item"><span class="result-label"><i class="fas fa-user" style="color: #e91e63;"></i> Postawa:</span><span>${details.postawa}</span></div>`;
            if (details.rodzaj_ognia) content += `<div class="result-item"><span class="result-label"><i class="fas fa-fire" style="color: #f44336;"></i> Rodzaj ognia:</span><span>${details.rodzaj_ognia}</span></div>`;
            if (details.ocena) content += `<div class="result-item"><span class="result-label"><i class="fas fa-star" style="color: #ffeb3b;"></i> Ocena:</span><span>${details.ocena}</span></div>`;
            if (details.warunki) content += `<div class="result-item"><span class="result-label"><i class="fas fa-cloud-sun" style="color: #03a9f4;"></i> Warunki strzelania:</span><span>${details.warunki}</span></div>`;
            
            document.getElementById('exercise-content').innerHTML = content;
            document.getElementById('exercise-details').style.display = 'block';
        }

        // Aktualizacja konkretnych ƒáwicze≈Ñ po wyborze rodzaju strzelania
        document.getElementById('exercise-type').addEventListener('change', function() {
            const exerciseType = this.value;
            const specificExerciseSelect = document.getElementById('specific-exercise');
            
            // Wyczyszczenie listy
            specificExerciseSelect.innerHTML = '';
            specificExerciseSelect.disabled = true;
            
            if (!exerciseType) {
                specificExerciseSelect.innerHTML = '<option value="">Najpierw wybierz rodzaj strzelania</option>';
                return;
            }
            
            // Dodanie opcji "Wybierz ƒáwiczenie"
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'Wybierz ƒáwiczenie';
            specificExerciseSelect.appendChild(defaultOption);
            
            // Dodanie ƒáwicze≈Ñ z wybranego rodzaju
            const exercises = exercisesAmmo[exerciseType];
            if (exercises && exercises.length > 0) {
                exercises.forEach(exercise => {
                    const option = document.createElement('option');
                    option.value = exercise.id;
                    option.textContent = exercise.title;
                    specificExerciseSelect.appendChild(option);
                });
                
                specificExerciseSelect.disabled = false;
            } else {
                specificExerciseSelect.innerHTML = '<option value="">Brak ƒáwicze≈Ñ w tej kategorii</option>';
            }
        });

        // Obs≈Çuga zak≈Çadek w specyfikacjach technicznych
        function openTab(evt, tabName) {
            // Ukrycie wszystkich zak≈Çadek
            const tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }
            
            // Usuniƒôcie aktywnej klasy z przycisk√≥w zak≈Çadek
            const tabButtons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
            }
            
            // Pokazanie wybranej zak≈Çadki i uaktywnienie przycisku
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // Obs≈Çuga element√≥w zwijanych
        const collapsibles = document.getElementsByClassName("collapsible");
        for (let i = 0; i < collapsibles.length; i++) {
            collapsibles[i].addEventListener("click", function() {
                this.classList.toggle("active");
                const content = this.nextElementSibling;
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        }
    </script>
</body>
</html>
